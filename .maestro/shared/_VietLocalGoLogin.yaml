#flow: Shared VietLocalGo Login
#intent: Shared login flow for VietLocalGo tests

appId: ${MAESTRO_APP_ID}
---
# Skip onboarding if visible
- tapOn:
    text: "Bỏ qua"
    optional: true

- tapOn:
    text: "Skip"
    optional: true

# If on onboarding, go through it
- tapOn:
    text: "Bắt đầu"
    optional: true

- tapOn:
    text: "Get Started"
    optional: true

# Login screen
- tapOn:
    text: "Đăng nhập"
    optional: true

- tapOn:
    text: "Login"
    optional: true

# Enter credentials
- tapOn:
    text: "Email"
    optional: true

- inputText: "test@example.com"

- tapOn:
    text: "Mật khẩu"
    optional: true

- inputText: "password123\n"

# Tap login button
- tapOn:
    text: "Đăng nhập"
    index: 1
    optional: true

- tapOn:
    text: "Login"
    index: 1
    optional: true

- tapOn:
    text: "Sign In"
    index: 1
    optional: true

- tapOn:
    text: "Sign in"
    index: 1
    optional: true

- tapOn:
    text: "Tap to log in!"
    optional: true

- tapOn:
    text: "Tap to log in"
    optional: true

- tapOn:
    id: "login-button"
    optional: true

- tapOn:
    id: "${MAESTRO_APP_ID}:id/login-button"
    optional: true

# Wait for home screen
- extendedWaitUntil:
    visible: '(?i)trang chủ|home|xin chào|welcome|hello'
    timeout: 8000
    optional: true
